(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1:function(module,exports,__webpack_require__){},6:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function($){__webpack_require__(1);function addError(errorText){$(".feedback .feedback__input");$(".feedback__input").addClass("error"),$(".feedback .feedback__error").length?$(".feedback .feedback__error").text(errorText):$('<div class="feedback__error">'.concat(errorText,"</div>")).insertBefore($(".feedback .button"))}$(".menu-trigger").on("click",(function(){$(".header-wrap").toggleClass("active"),$("body").toggleClass("overflow")})),$(".scrolltop").on("click",(function(){$("html, body").stop().animate({scrollTop:0},500)})),$(".feedback").on("submit",(function(e){e.preventDefault();var $emailInput=$(this).find(".feedback__input"),data={email:$emailInput.val()};if(new RegExp("^[a-z0-9_]+[\\.\\-_]*[a-z0-9_]+@[a-z0-9]+[a-z0-9_\\-\\.]*[a-z0-9]+\\.[a-z0-9]{2,}$","i").test($emailInput.val())){var $submitBtn=$(this).find(".button");$submitBtn.attr("disabled","disabled"),$emailInput.removeClass("error"),$.ajax({url:"/subscribe",method:"POST",contentType:"application/json",data:JSON.stringify(data),statusCode:{200:function(){$("form.feedback").remove(),$("<div class='feedback'><span class=\"feedback__msg\">Вы подписаны на рассылку</span></div>").insertAfter($(".feedback__text")),$(".form .hidden").removeClass("hidden"),$(".form > p,.form .title").addClass("hidden")},400:function(res){$submitBtn.removeAttr("disabled"),addError(res.responseJSON.error)}}})}else{$emailInput.addClass("error");addError("Некорректный email")}})),function(){var $scrolltopButton=$(".scrolltop"),scrolltopConfig=new Config;function Config(){return{winHeight:$(window).innerHeight(),footerTop:$("footer").offset().top-15,footerHeight:$("footer").innerHeight()}}function renderScrolltop($el,config,scrolltop){$el[scrolltop>config.winHeight?"removeClass":"addClass"]("hidden"),scrolltop>=config.footerTop-config.winHeight?$el.addClass("stop").css("bottom","".concat(config.footerHeight+10,"px")):$el.removeClass("stop").css("bottom","10px")}renderScrolltop($scrolltopButton,scrolltopConfig,$(window).scrollTop()),$(window).on("resize",(function(){scrolltopConfig=new Config})).on("scroll",(function(){var scrolltop=$(this).scrollTop();renderScrolltop($scrolltopButton,scrolltopConfig,scrolltop)}))}()}.call(this,__webpack_require__(2))}},[[6,0,1]]]);
//# sourceMappingURL=base-d6cbcd51.js.map